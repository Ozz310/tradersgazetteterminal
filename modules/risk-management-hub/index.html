<div class="risk-management-hub">
    <div class="risk-management-cover-photo"></div>

    <div class="module-content-container">
        <h1 class="page-title">Risk Management Hub</h1>
        
        <div class="main-content-flex">
            <div class="controls-panel">
                <div class="calculator-menu">
                    <button class="menu-button active" data-target="marginCalculator">
                        Margin Calculator
                    </button>
                    <button class="menu-button" data-target="rrCalculator">
                        Position Size & R/R
                    </button>
                </div>
            </div>

            <div class="calculator-panel">
                <div id="marginCalculator" class="calculator-tab active">
                    <p class="calculator-info">
                        <span class="info-icon">i</span>
                        Rates update EOD
                    </p>
                    <div class="input-group">
                        <label for="accountCurrency">Account Currency:</label>
                        <select id="accountCurrency">
                            <option value="USD" selected>USD - US Dollar</option>
                            <option value="EUR">EUR - Euro</option>
                            <option value="GBP">GBP - British Pound</option>
                            <option value="JPY">JPY - Japanese Yen</option>
                            <option value="AUD">AUD - Australian Dollar</option>
                            <option value="CAD">CAD - Canadian Dollar</option>
                            <option value="CHF">CHF - Swiss Franc</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="leverage">Leverage:</label>
                        <select id="leverage">
                            <option value="10">1:10</option>
                            <option value="25">1:25</option>
                            <option value="50">1:50</option>
                            <option value="100">1:100</option>
                            <option value="200">1:200</option>
                            <option value="400">1:400</option>
                            <option value="500" selected>1:500</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="currencyPair">Instrument:</label>
                        <select id="currencyPair">
                            <optgroup label="Forex (Major)">
                                <option value="EURUSD" selected>EUR/USD</option>
                                <option value="GBPUSD">GBP/USD</option>
                                <option value="USDJPY">USD/JPY</option>
                                <option value="AUDUSD">AUD/USD</option>
                                <option value="USDCAD">USD/CAD</option>
                                <option value="USDCHF">USD/CHF</option>
                            </optgroup>
                            <optgroup label="Forex (Crosses)">
                                <option value="EURGBP">EUR/GBP</option>
                                <option value="EURJPY">EUR/JPY</option>
                                <option value="GBPJPY">GBP/JPY</option>
                                <option value="AUDJPY">AUD/JPY</option>
                                <option value="EURAUD">EUR/AUD</option>
                                <option value="CADJPY">CAD/JPY</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="tradeSize" id="tradeSizeLabel">Trade Size (Base Currency Units):</label>
                        <input type="number" id="tradeSize" value="100000" min="0.01" step="0.01">
                    </div>
                    <button id="calculateMarginBtn">
                        <span class="loading-spinner" id="loadingSpinnerMargin"></span>
                        Calculate Margin
                    </button>
                </div>

                <div id="rrCalculator" class="calculator-tab">
                    <div class="input-group">
                        <label for="capital">Total Capital ($):</label>
                        <input type="number" id="capital" value="5000" placeholder="e.g., 5000">
                    </div>
                    <div class="input-group">
                        <label for="riskPercent">Risk Per Trade (%): <span id="riskPercentValue">2</span></label>
                        <input type="range" id="riskPercent" min="0.1" max="10" value="2" step="0.1">
                    </div>
                    <div class="input-group">
                        <label for="instrumentRR">Instrument:</label>
                        <select id="instrumentRR">
                            <optgroup label="Forex (Major)">
                                <option value="EURUSD" selected>EUR/USD</option>
                                <option value="GBPUSD">GBP/USD</option>
                                <option value="USDJPY">USD/JPY</option>
                                <option value="AUDUSD">AUD/USD</option>
                                <option value="USDCAD">USD/CAD</option>
                                <option value="USDCHF">USD/CHF</option>
                            </optgroup>
                            <optgroup label="Forex (Crosses)">
                                <option value="EURGBP">EUR/GBP</option>
                                <option value="EURJPY">EUR/JPY</option>
                                <option value="GBPJPY">GBP/JPY</option>
                                <option value="AUDJPY">AUD/JPY</option>
                                <option value="EURAUD">EUR/AUD</option>
                                <option value="CADJPY">CAD/JPY</option>
                            </optgroup>
                            <optgroup label="Metals">
                                <option value="XAUUSD">XAU/USD (Gold)</option>
                                <option value="XAGUSD">XAG/USD (Silver)</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="entryPrice">Entry Price:</label>
                        <input type="number" id="entryPrice" value="1.25000" step="0.00001" placeholder="e.g., 1.25000">
                    </div>
                    <div class="input-group">
                        <label for="stopLossPrice">Stop Loss Price:</label>
                        <input type="number" id="stopLossPrice" value="1.24800" step="0.00001" placeholder="e.g., 1.24800">
                    </div>
                    <div class="input-group">
                        <label for="takeProfitPrice">Take Profit Price:</label>
                        <input type="number" id="takeProfitPrice" value="1.26000" step="0.00001" placeholder="e.g., 1.26000">
                    </div>
                    <button id="calculateRRBtn">
                        <span class="loading-spinner" id="loadingSpinnerRR"></span>
                        Calculate Risk/Reward & Position
                    </button>
                </div>
            </div>

            <div class="results-panel">
                <div class="message-box" id="messageBox">
                    <span id="messageText"></span>
                    <button class="message-box-close" onclick="hideMessage()">&times;</button>
                </div>
                <div class="result-area" id="resultArea">
                    <h3 class="result-title">Calculation Results</h3>
                    <div class="empty-state" id="emptyStateMessage">
                        <p>Run a calculation to see results.</p>
                    </div>
                    <div class="results-grid" style="display: none;">
                        <div class="results-group" id="marginResults">
                            <div class="result-card" id="cardMarginRate">
                                <p>Current Rate (<span id="ratePairDisplay">EUR/USD</span>):</p>
                                <span id="currentRateDisplay">N/A</span>
                                <p class="timestamp" id="timestampMargin"></p>
                            </div>
                            <div class="result-card" id="cardMarginRequired">
                                <p>Required Margin:</p>
                                <span id="requiredMarginDisplay">N/A</span> <span id="marginCurrencySymbol"></span>
                                <button class="copy-btn" data-target="requiredMarginDisplay"><i class="fas fa-copy"></i></button>
                            </div>
                            <div class="result-card" id="cardMarginPip">
                                <p>Pip/Point Value:</p>
                                <span id="pipValueDisplay">N/A</span> <span id="pipValueCurrencySymbol"></span>
                                <button class="copy-btn" data-target="pipValueDisplay"><i class="fas fa-copy"></i></button>
                            </div>
                        </div>
                        <div class="results-group" id="rrResults">
                            <div class="result-card" id="cardRRRisk">
                                <p>Risk Amount:</p>
                                <span id="riskAmountDisplay">N/A</span>
                                <button class="copy-btn" data-target="riskAmountDisplay"><i class="fas fa-copy"></i></button>
                            </div>
                            <div class="result-card" id="cardRRStopLoss">
                                <p>Stop Loss (Pips/Points):</p>
                                <span id="stopLossPipsDisplay">N/A</span>
                                <button class="copy-btn" data-target="stopLossPipsDisplay"><i class="fas fa-copy"></i></button>
                            </div>
                            <div class="result-card" id="cardRRUnits">
                                <p>Recommended Units:</p>
                                <span id="recommendedUnitsDisplay">N/A</span>
                                <button class="copy-btn" data-target="recommendedUnitsDisplay"><i class="fas fa-copy"></i></button>
                            </div>
                            <div class="result-card" id="cardRRRatio">
                                <p>Risk/Reward Ratio:</p>
                                <span id="rrRatioDisplay">N/A</span>
                                <button class="copy-btn" data-target="rrRatioDisplay"><i class="fas fa-copy"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="branding">
            <div class="branding-divider"></div>
            <img src="https://raw.githubusercontent.com/Ozz310/tradersgazetteterminal/refs/heads/main/calculator/WhatsApp%20Image%202025-06-18%20at%2011.37.15%20(1).jpeg" alt="The Traders Gazette Logo">
            <p>Powered by The Trader's Gazette</p>
        </div>
    </div>
</div>
