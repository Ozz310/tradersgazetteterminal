/* style.css - Trading E-Books Module */

/* ðŸ’¥ CRITICAL FIX: Ensure element starts at the very top of the scrollable content area */
.trading-ebooks {
Â  Â  /* This negative margin is CRITICAL to pull the content up and cover the 20px padding from .module-container */
Â  Â  margin-top: -20px !important;
Â  Â  padding: 0 !important; /* Remove padding here, it's handled by .module-container */
Â  Â  box-sizing: border-box;
Â  Â  display: flex;
Â  Â  flex-direction: column;
Â  Â  align-items: center;
Â  Â  min-height: calc(100vh - 40px);
}

/* ðŸš€ BANNER FIX: Must touch all horizontal ends and the top */
.trading-ebooks .ebooks-banner {
Â  Â  width: 100%;
Â  Â  height: 350px; /* Generous height for premium feel */
Â  Â  position: relative;
Â  Â  background-size: cover;
Â  Â  background-position: center; /* Centralize image focus */
Â  Â  overflow: hidden;
Â  Â  box-shadow: 0 4px 15px rgba(0,0,0,0.6); /* Deeper shadow */
Â  Â  margin-bottom: 40px; /* Separation from cards */
}

/* ðŸš€ Banner Title Styling (Gold Accent) */
.trading-ebooks .banner-text-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    width: 90%;
    max-width: 800px;
}

.trading-ebooks .banner-text-content h1 {
    color: var(--header-gold-color);
    font-size: 3.5rem; /* Large, premium title */
    font-family: 'Merriweather', serif; /* Using a secondary font for hierarchy */
    text-transform: uppercase;
    letter-spacing: 4px;
    margin: 0;
    text-shadow: 0 0 12px rgba(255, 215, 0, 0.7), 0 0 4px rgba(0, 0, 0, 0.8);
}


/* Content Container */
.trading-ebooks .ebooks-content-container {
Â  Â  width: 100%;
Â  Â  max-width: 1200px;
Â  Â  display: flex;
Â  Â  flex-wrap: wrap;
Â  Â  gap: 30px;
Â  Â  justify-content: flex-start; /* FIX: Align cards to the left */
Â  Â  padding: 0 20px; /* Re-introduce horizontal padding for content */
}

/* Gallery Card Styling (Reverting to the preferred premium look) */
.trading-ebooks .gallery-card {
Â  Â  background: linear-gradient(145deg, #2a2a2a, #1a1a1a);
Â  Â  padding: 15px;
Â  Â  /* ðŸ”‘ FIX: Enforce the specific width for the card to prevent oversized display */
Â  Â  width: 250px; 
Â  Â  border-radius: 8px;
Â  Â  border: 1px solid var(--border-color);
Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.4);
Â  Â  display: flex;
Â  Â  flex-direction: column;
Â  Â  align-items: center;
Â  Â  text-align: center;
Â  Â  cursor: pointer;
Â  Â  transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
}

.trading-ebooks .gallery-card:hover {
Â  Â  transform: translateY(-5px);
Â  Â  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5), 0 0 10px var(--gold-color);
Â  Â  border-color: var(--gold-color);
}

/* Image Wrapper for Size Constraint */
.trading-ebooks .book-cover-wrapper {
    width: 100%; 
    display: flex; 
    align-items: center;
    justify-content: center; 
    padding-bottom: 15px;
    max-height: 200px; /* Constrain the area for the book cover */
    height: auto;
}

.trading-ebooks .book-cover {
Â  Â  /* ðŸ”‘ FIX: Apply max constraints to the image itself */
Â  Â  max-width: 100%;
Â  Â  max-height: 100%;
Â  Â  object-fit: contain;
Â  Â  border-radius: 4px;
}

.trading-ebooks .book-info h3 {
Â  Â  color: var(--gold-color);
Â  Â  font-size: 1.5rem;
Â  Â  margin: 0;
Â  Â  text-shadow: 0 0 5px rgba(240, 215, 136, 0.4);
}

.trading-ebooks .book-info p {
Â  Â  color: var(--text-color);
Â  Â  font-size: 0.9rem;
Â  Â  margin-top: 10px;
}

/* Modal Styling - Premium Refinements */
.trading-ebooks .ebook-modal {
Â  Â  display: none;
Â  Â  position: fixed;
Â  Â  z-index: 100;
Â  Â  left: 0;
Â  Â  top: 0;
Â  Â  width: 100%;
Â  Â  height: 100%;
Â  Â  background-color: rgba(0,0,0,0.85); /* Slightly darker overlay */
Â  Â  overflow: auto;
    backdrop-filter: blur(4px); /* Premium blur effect */
    -webkit-backdrop-filter: blur(4px);
}

.trading-ebooks .ebook-modal.open {
Â  Â  display: flex; /* Use flex to easily center content */
    align-items: center;
    justify-content: center;
}

.trading-ebooks .modal-content {
Â  Â  background-color: var(--content-bg-color);
Â  Â  margin: 20px; /* Reduced margin to let flex center it */
Â  Â  padding: 30px; /* More generous padding */
Â  Â  border: 1px solid var(--border-color);
Â  Â  width: 90%;
Â  Â  max-width: 900px;
Â  Â  border-radius: 12px;
Â  Â  position: relative;
Â  Â  box-shadow: 0 8px 30px rgba(0,0,0,0.9); /* Deeper, more dramatic shadow */
    
    /* Animation for smooth entry */
    transform: scale(0.95);
    opacity: 0;
    transition: transform 0.3s ease-out, opacity 0.3s ease-out;
}

.trading-ebooks .ebook-modal.open .modal-content {
    transform: scale(1);
    opacity: 1;
}


.trading-ebooks .close-button {
Â  Â  color: var(--gold-color); /* Gold close button for accent */
Â  Â  position: absolute;
Â  Â  top: 15px;
Â  Â  right: 25px;
Â  Â  font-size: 32px; /* Slightly larger */
Â  Â  font-weight: 300;
Â  Â  cursor: pointer;
    transition: color 0.2s ease;
}

.trading-ebooks .close-button:hover {
    color: var(--hover-gold-color);
}

.trading-ebooks .modal-body {
Â  Â  display: flex;
Â  Â  flex-direction: column;
Â  Â  gap: 20px;
}

/* Modal Heading - Gold Aesthetic */
.trading-ebooks .modal-body h2 {
    color: var(--header-gold-color);
    font-size: 2.5rem;
    text-align: center;
    margin-bottom: 10px;
    text-shadow: 0 0 8px rgba(255, 215, 0, 0.4);
}

/* Video Container (Aspect Ratio) */
.trading-ebooks .book-video-container {
Â  Â  position: relative;
Â  Â  padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
Â  Â  height: 0;
Â  Â  overflow: hidden;
Â  Â  border: 2px solid var(--gold-color);
Â  Â  border-radius: 8px;
Â  Â  box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
}

.trading-ebooks .book-video-container iframe {
Â  Â  position: absolute;
Â  Â  top: 0;
Â  Â  left: 0;
Â  Â  width: 100%;
Â  Â  height: 100%;
}

.trading-ebooks .modal-body p {
    color: var(--secondary-text-color);
    font-size: 1rem;
    line-height: 1.6;
    text-align: center;
}

/* NOTE: The 'buy-button' styling is handled by the global .tg-button-primary alias in main.css,
         but we ensure it is centered here. */
.trading-ebooks .buy-button {
    align-self: center;
    margin-top: 10px;
}

/* --- Mobile Specific Styles --- */
@media (max-width: 768px) {
    /* Banner Adjustment */
    .trading-ebooks .ebooks-banner {
        height: 180px; 
        margin-bottom: 20px;
    }
    
    .trading-ebooks .banner-text-content h1 {
        font-size: 2rem;
        letter-spacing: 2px;
    }

    /* Content and Card adjustments */
    .trading-ebooks .ebooks-content-container {
        flex-direction: column;
        align-items: center;
        padding: 0 10px;
        gap: 20px;
    }

    .trading-ebooks .gallery-card {
        width: 100%;
        max-width: 350px;
        flex-direction: row; /* Horizontal layout for mobile */
        text-align: left;
        padding: 15px;
        gap: 15px;
    }

    .trading-ebooks .book-cover-wrapper {
        width: 100px;
        flex-shrink: 0;
        padding-bottom: 0;
        max-height: none;
    }

    /* Modal adjustments */
    .trading-ebooks .modal-content {
        margin: 10px auto;
        padding: 20px;
    }

    .trading-ebooks .modal-body h2 {
        font-size: 1.5rem;
    }

    .trading-ebooks .modal-body p {
        font-size: 0.9rem;
    }
}
